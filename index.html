<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>EpicMotion Hub</title>
</head>
<body>
    
    <header>
        <div class="logo-icon">
            <img src="" alt="logo">
        </div>
        <nav>
            <ul>
                <li><a href="">Scroll</a></li>
                <li><a href="">Transition Effects</a></li>
                <li><a href="">Background</a></li>
                <li><a href="">Content</a></li>
            </ul>
        </nav>
    </header>

    <section>
        <div class="hero_section">
            <div class="shapes_animation">
                <div class="circle" id="circle1"></div>
                <div class="circle" id="circle2"></div>
                <div class="circle" id="circle3"></div>
                <div class="circle" id="circle4"></div>
            </div>
        </div>
    </section>
    

    <!-- Scroll Animation In  -->
    <!-- https://www.youtube.com/watch?v=RIbH-7Ktboo -->
    <section>
        <div class="scroll_animation_in">
            <div class="box_animation">
                <div class="box" id="box1"></div>
                <div class="box" id="box2"></div>
                <div class="box" id="box3"></div>
                <div class="box" id="box4"></div>
            </div>
            <div class="chart_animation">
                <h1>Scroll Going In</h1>
                <div class="skills-container">
                    <div class="skill-bar">
                        <div class="skill-per" per="45"></div>
                    </div>
                    <div class="skill-bar">
                        <div class="skill-per" per="55"></div>
                    </div>
                    <div class="skill-bar">
                        <div class="skill-per" per="65"></div>
                    </div>
                    <div class="skill-bar">
                        <div class="skill-per" per="85"></div>
                    </div>
                    <div class="skill-bar">
                        <div class="skill-per" per="100"></div>
                    </div>
                </div>
                
            </div>

        </div>
    </section>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>

    <script>
        $(document).ready(function () {
            animateCircles();

            $(window).scroll(function(){
                let top = window.scrollY;
                let sec2 = $("section")[1]; 
                let offset = sec2.offsetTop - 150;
                let height = sec2.offsetHeight;
    
                if (top >= offset && top < offset + height) {
                    $(".scroll_animation_in").css({
                        'transform': 'translateX(0px)',
                        'transition': 'transform 0.5s ease',
                    });
                    
                    $(".box_animation #box1").css({
                        'transform': 'translateX(0px)',
                        'transition': 'transform 5s ease',
                    })
                    $(".box_animation #box2").css({
                        'transform': 'translateX(0px)',
                        'transition': 'transform 4s ease',
                    })
                    $(".box_animation #box3").css({
                        'transform': 'translateX(0px)',
                        'transition': 'transform 3s ease',
                    })
                    $(".box_animation #box4").css({
                        'transform': 'translateX(0px)',
                        'transition': 'transform 2s ease',
                    })

                    $('.skill-per').each(function(){
                        var $this = $(this);
                        var per = $this.attr('per');
                        $this.css("height",per + "%");
                        
                        $({animatedValue:0}).animate({animatedValue: per},{
                            duration: 2000,
                            step: function(){
                                $this.attr('per',Math.floor(this.animatedValue) + '%')
                            },
                            complete: function(){
                                $this.attr('per',Math.floor(this.animatedValue) + '%')
                            }
                        })
                    })
  
                } else {
                     $(".scroll_animation_in").css({
                        'transform': 'translateX(-1100px)',
                    });   
                    $(".box_animation #box1").css({
                        'transform': 'translateX(-1100px)',
                    })
                    $(".box_animation #box2").css({
                        'transform': 'translateX(-1100px)',
                    })
                    $(".box_animation #box3").css({
                        'transform': 'translateX(-1100px)',
                    })
                    $(".box_animation #box4").css({
                        'transform': 'translateX(-1100px)',
                    })

                }
             })
    
        });

        function animateCircles() {
            function moveCircles(timestamp) {
                var duration = 4000; // Animation duration in milliseconds
                var progress = timestamp % duration / duration;

                // Calculate positions for a circular motion
                var angle1 = progress * 2 * Math.PI;
                var angle2 = (progress + 1 / 3) * 2 * Math.PI;
                var angle3 = (progress + 2 / 3) * 2 * Math.PI;

                var radius = 100; // Adjust the radius as needed

                var x1 = Math.cos(angle1) * radius;
                var y1 = Math.sin(angle1) * radius;

                var x2 = Math.cos(angle2) * radius;
                var y2 = Math.sin(angle2) * radius;

                var x3 = Math.cos(angle3) * radius;
                var y3 = Math.sin(angle3) * radius;

                // Apply new positions
                $('#circle1').css({ transform: 'translate(' + x1 + 'px, ' + y1 + 'px)' });
                $('#circle2').css({ transform: 'translate(' + x2 + 'px, ' + y2 + 'px)' });
                $('#circle3').css({ transform: 'translate(' + x3 + 'px, ' + y3 + 'px)' });
                $('#circle4').css({ transform: 'translate(' + x3 + 'px, ' + y3 + 'px)' });
                requestAnimationFrame(moveCircles);
            }

            // Start the circular motion
            requestAnimationFrame(moveCircles);
        }
    </script>
</body>


</html>